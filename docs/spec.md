# OAuth身份验证API
以下文档描述了用于认证和授权的HTTP API具有WordPress安装的远程客户端。

## 框架
WordPress Oauth身份验证API（“ OAuth API”）是基于HTTP的API在[OAUTH 1.0A] [RFC5849]上。 它还基于OAuth 1.0A规范使用自定义参数。

本文档描述了Oauth API版本0.1。

## 术语
* “访问令牌”：用于访问该网站的长期令牌。 赠款根据客户的范围对客户的权限。
* “客户端”：访问OAuth API并提供服务的软件程序给用户。
* “请求令牌”：在OAuth过程中使用的短寿命令牌。 才不是授予任何权限，只能用于授权步骤。
* “站点”：WordPress安装提供OAuth API作为服务
* “用户”：API客户端的最终用户。 通常是网站上的注册用户。

请注意，任何相对URL都相对于站点的基本URL。

## 动机
OAuth API是由三个主要因素激励的：

* 用户只能将其凭据输入网站。 客户不仅应该劝阻要求用户凭据还应避免提供使用它们的方法。

* API必须在任何站点上工作。 API必须仅使用可用的功能大多数站点以提供有用的实用程序。

* API应该易于在客户端中实现。 开发人员应该能够通过重复现有库来创建客户，而不是完整编写自定义解决方案。

## 与Oauth 1.0A的区别
OAuth API扩展了OAuth 1.0A以提供其他功能。 这以下差异适用：

* 授权端点（“资源所有者授权端点”）可能
   基于OAuth 2.0`范围参数接受`wp_scope`参数。
   （请参阅第2步：授权）

## 步骤0：评估可用性
在开始授权过程之前，客户应评估是否站点支持它。 由于网站的可自定义性质，这不是保证，可以禁用或更换OAuth API。

为了满足这一要求，OAuth API与WordPress JSON接口REST API（“ WP API”）。 预计大多数使用OAuth API的客户将具有能够访问WP API的能力。

OAuth API通过WP的索引端点公开了信息API，通常可在`/wp-json/`上找到。 WP API可通过RSD机制和使用此数据的OAuth API客户端应使用RSD机制，如WP API文档所述。

### 要求
客户端向WP API的索引端点发送HTTP获取请求。 这索引端点的位置不超出本文档的范围，并且已处理由WP API文档。

### 回复
WP API索引端点返回与网站有关的数据对象。
OAuth API通过`oauth1'的“身份验证”值公开数据适当的价值。

`oauth1`值（“ API描述对象”）是一个带有的JSON对象以下属性定义：

* `请求`绝对URL给出了“临时凭据”的位置
   请求端点”（请参阅步骤1：请求令牌）
* ``授权'：绝对URL提供“资源所有者的位置”
   授权端点”（请参阅步骤2：授权）
* `访问：绝对URL提供“令牌请求端点”的位置
   （请参阅步骤3：访问令牌）
* `版本“：一个版本字符串指示OAUTH API的版本
   通过网站。

## 步骤1：请求令牌
授权过程的第一步是获取请求令牌。 这步骤要求该网站发布临时令牌，仅用于授权过程。 这个令牌是一个短膨胀令牌，尚未链接到用户。

此请求遵循[临时凭据] [OAuth-Request]部分
[RFC5948] []。

### 要求
客户端将HTTP POST请求发送到`/oauth1/request'（临时凭证请求端点”）。此URL也可以通过API获得描述对象作为“请求”属性，客户应使用URL从API描述对象而不是硬编码URL。

此请求应如OAuth 1.0A中所述的格式匹配规范，第2.1节。

此请求还可以包含以下参数作为顶部的扩展程序
OAuth 1.0A参数：

* ``wp_scope`：这是Oauth风格的空间或逗号分隔的领域
   2.0的范围字段。 这代表了可用权限的缩小客户端。 请参阅授权范围。 此参数是可选的，默认到“*”（所有权限）。

### 回复
OAuth API返回OAuth请求令牌数据的URL编码响应，如在OAUTH 1.0A规范中描述的第2.1节。

## 步骤2：授权
授权过程的第二步是请求授权用户。 此步骤将用户发送到网站，
